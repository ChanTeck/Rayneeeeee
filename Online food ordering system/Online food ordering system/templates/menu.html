<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Foodly | Menu</title>
<style>
/* Base */
* { box-sizing: border-box; margin: 0; padding: 0; }
body { font-family: "Poppins", sans-serif; background: #f5f5f5; color: #333; }

/* Navigation */
nav {
  background: #fff;
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 15px 40px;
  box-shadow: 0 4px 10px rgba(0,0,0,0.1);
  position: sticky;
  top: 0;
  z-index: 10;
}
nav h1 { color: #009688; font-weight: 700; }
nav ul { display: flex; gap: 25px; list-style: none; }
nav a { text-decoration: none; color: #333; font-weight: 600; transition: color 0.3s; }
nav a:hover { color: #00c853; }
.dropdown { position: relative; }
.dropdown-content {
  display: none;
  position: absolute;
  background: #fff;
  box-shadow: 0 2px 10px rgba(0,0,0,0.15);
  border-radius: 10px;
  min-width: 160px;
  z-index: 100;
}
.dropdown-content a { display: block; padding: 10px 15px; color: #333; text-decoration: none; }
.dropdown-content a:hover { background: #00c853; color: #fff; }
.dropdown:hover .dropdown-content { display: block; }

/* Hero */
.hero {
  background: linear-gradient(to right, #00c853, #009688);
  color: white;
  text-align: center;
  padding: 60px 20px;
}
.hero h2 { font-size: 2.5em; margin-bottom: 10px; }
.hero p { font-size: 1.2em; }

/* Menu Section */
.menu-section {
  padding: 30px 40px 60px 40px;
}
.menu-section h2 { color: #009688; margin-bottom: 20px; text-align: center; }
.back-btn {
  display: block;
  margin-bottom: 20px;
  background: #009688;
  color: #fff;
  border: none;
  padding: 10px 25px;
  border-radius: 25px;
  font-weight: 600;
  cursor: pointer;
  text-decoration: none;
  text-align: center;
}
.back-btn:hover { background: #00c853; }
.category-tabs { display: flex; justify-content: center; gap: 15px; margin-bottom: 30px; }
.category-tabs button {
  padding: 10px 20px;
  border: none;
  border-radius: 25px;
  background: #e0e0e0;
  cursor: pointer;
  font-weight: 600;
  transition: 0.3s;
}
.category-tabs button.active, .category-tabs button:hover { background: #009688; color: #fff; }

.menu-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
  gap: 25px;
}
.menu-card {
  background: white;
  border-radius: 15px;
  overflow: hidden;
  box-shadow: 0 4px 15px rgba(0,0,0,0.1);
  transition: transform 0.3s;
}
.menu-card:hover { transform: translateY(-5px); }
.menu-card img { width: 100%; height: 180px; object-fit: cover; }
.menu-card .info { padding: 15px; }
.menu-card h3 { margin-bottom: 5px; color: #333; }
.menu-card p { margin-bottom: 10px; color: #666; font-size: 14px; }
.menu-card button {
  background: #009688;
  color: white;
  border: none;
  padding: 8px 20px;
  border-radius: 25px;
  cursor: pointer;
  font-weight: 600;
  transition: 0.3s;
}
.menu-card button:hover { background: #00c853; }

/* Cart Modal */
#cartModal {
  display: none;
  position: fixed;
  right: 20px;
  top: 70px;
  width: 300px;
  max-height: 80vh;
  overflow-y: auto;
  background: #fff;
  box-shadow: 0 4px 20px rgba(0,0,0,0.3);
  border-radius: 15px;
  z-index: 1000;
}
#cartModal h3 {
  background: #009688;
  color: #fff;
  padding: 15px;
  border-top-left-radius: 15px;
  border-top-right-radius: 15px;
}
#cartItems { padding: 15px; }
.cart-item {
  display: flex;
  justify-content: space-between;
  margin-bottom: 10px;
}
.cart-item span { display: block; }
.cart-item button {
  background: #e53935;
  color: #fff;
  border: none;
  padding: 3px 7px;
  border-radius: 5px;
  cursor: pointer;
  font-size: 12px;
}

/* Total & Checkout */
#cartTotal {
  padding: 0 15px 15px 15px;
  font-weight: 600;
}
#checkoutBtn {
  display: block;
  width: calc(100% - 30px);
  margin: 0 15px 15px 15px;
  padding: 10px;
  background: #009688;
  color: #fff;
  border: none;
  border-radius: 25px;
  cursor: pointer;
  font-weight: 600;
}
#checkoutBtn:hover { background: #00c853; }

/* Cart button */
#cartBtn {
  position: fixed;
  bottom: 25px;
  right: 25px;
  background: #009688;
  color: white;
  border: none;
  padding: 15px;
  border-radius: 50%;
  font-size: 18px;
  cursor: pointer;
  box-shadow: 0 4px 10px rgba(0,0,0,0.3);
  z-index: 100;
}
#cartBtn:hover { background: #00c853; }
</style>
</head>
<body>

<!-- Navigation -->
<nav>
  <h1>üç£ Foodly</h1>
  <ul>
    <li><a href="index.html">Home</a></li>
    <li><a href="restaurants.html">Restaurants</a></li>
    <li><a href="vouchers.html">Vouchers</a></li>
    <li><a href="contact.html">Contact</a></li>
    <li class="dropdown">
      <a href="#">Account ‚ñæ</a>
      <div class="dropdown-content">
        <a href="account.html">Profile</a>
        <a href="order-history.html">Order History</a>
        <a href="#" id="logoutBtn">Logout</a>
      </div>
    </li>
  </ul>
</nav>

<!-- Hero Section -->
<section class="hero">
  <h2>Sushi Place Menu</h2>
  <p>Fresh sushi and Japanese delicacies made to perfection.</p>
</section>

<!-- Menu Section -->
<section class="menu-section">
  <a href="restaurants.html" class="back-btn">‚Üê Back to Restaurants</a>
  <h2>Menu</h2>
  <div class="category-tabs">
    <button class="active" data-category="all">All</button>
    <button data-category="starters">Starters</button>
    <button data-category="main">Main Course</button>
    <button data-category="drinks">Drinks</button>
    <button data-category="desserts">Desserts</button>
  </div>
  <div class="menu-grid" id="menuGrid">
    <!-- Starters -->
    <div class="menu-card" data-category="starters">
      <img src="images/edamame.png" alt="Edamame">
      <div class="info">
        <h3>Edamame</h3>
        <p>Steamed young soybeans lightly salted.</p>
        <p><strong>RM10</strong></p>
        <button>Add to Cart</button>
      </div>
    </div>
    <div class="menu-card" data-category="starters">
      <img src="images/miso sup.png" alt="Miso Soup">
      <div class="info">
        <h3>Miso Soup</h3>
        <p>Traditional Japanese soybean paste soup.</p>
        <p><strong>RM8</strong></p>
        <button>Add to Cart</button>
      </div>
    </div>
    <!-- Main -->
    <div class="menu-card" data-category="main">
      <img src="images/sushi salmon.png" alt="Salmon Sushi">
      <div class="info">
        <h3>Salmon Sushi</h3>
        <p>Fresh salmon on seasoned rice.</p>
        <p><strong>RM20</strong></p>
        <button>Add to Cart</button>
      </div>
    </div>
    <div class="menu-card" data-category="main">
      <img src="images/tuna sashimi.png" alt="Tuna Sashimi">
      <div class="info">
        <h3>Tuna Sashimi</h3>
        <p>Freshly sliced tuna served raw.</p>
        <p><strong>RM25</strong></p>
        <button>Add to Cart</button>
      </div>
    </div>
    <!-- Drinks -->
    <div class="menu-card" data-category="drinks">
      <img src="images/green tea.png" alt="Green Tea">
      <div class="info">
        <h3>Green Tea</h3>
        <p>Hot Japanese green tea.</p>
        <p><strong>RM5</strong></p>
        <button>Add to Cart</button>
      </div>
    </div>
    <!-- Desserts -->
    <div class="menu-card" data-category="desserts">
      <img src="images/mochi.png" alt="Mochi">
      <div class="info">
        <h3>Mochi</h3>
        <p>Sweet glutinous rice cakes with red bean filling.</p>
        <p><strong>RM12</strong></p>
        <button>Add to Cart</button>
      </div>
    </div>
  </div>
</section>

<!-- Cart Modal -->
<div id="cartModal">
  <h3>Your Cart</h3>
  <div id="cartItems"></div>
  <div id="cartTotal"></div>
  <button id="checkoutBtn">Checkout</button>
</div>

<!-- Cart Button -->
<button id="cartBtn">üõí</button>

<!-- Footer -->
<footer>¬© 2025 GrabFood Cloud ‚Äî Powered by Netlify</footer>

<script>
// Logout
document.getElementById('logoutBtn').addEventListener('click', function(e){
  e.preventDefault();
  alert("You have been logged out!");
  window.location.href = "index.html";
});

// Category Filtering
const tabs = document.querySelectorAll('.category-tabs button');
const menuCards = document.querySelectorAll('.menu-card');
tabs.forEach(tab => {
  tab.addEventListener('click', () => {
    tabs.forEach(btn => btn.classList.remove('active'));
    tab.classList.add('active');
    const category = tab.dataset.category;
    menuCards.forEach(card => {
      card.style.display = (category === 'all' || card.dataset.category === category) ? '' : 'none';
    });
  });
});

// Cart System with localStorage
const cartBtn = document.getElementById('cartBtn');
const cartModal = document.getElementById('cartModal');
const cartItemsContainer = document.getElementById('cartItems');
const cartTotalDisplay = document.getElementById('cartTotal');
const checkoutBtn = document.getElementById('checkoutBtn');

let cart = JSON.parse(localStorage.getItem('cart')) || [];

cartBtn.addEventListener('click', () => {
  cartModal.style.display = cartModal.style.display === 'block' ? 'none' : 'block';
});

document.querySelectorAll('.menu-card button').forEach(button => {
  button.addEventListener('click', e => {
    const card = e.target.closest('.menu-card');
    const name = card.querySelector('h3').innerText;
    const price = parseFloat(card.querySelector('strong').innerText.replace('RM',''));
    
    const existingItem = cart.find(item => item.name === name);
    if(existingItem){
      existingItem.qty += 1;
    } else {
      cart.push({name, price, qty:1});
    }
    localStorage.setItem('cart', JSON.stringify(cart));
    updateCart();
  });
});

function updateCart(){
  cartItemsContainer.innerHTML = '';
  let total = 0;
  cart.forEach((item, index) => {
    total += item.price * item.qty;
    const div = document.createElement('div');
    div.classList.add('cart-item');
    div.innerHTML = `<span>${item.name} x${item.qty}</span>
                     <span>RM${(item.price*item.qty).toFixed(2)}</span>
                     <button onclick="removeItem(${index})">‚úï</button>`;
    cartItemsContainer.appendChild(div);
  });
  cartTotalDisplay.innerText = 'Total: RM' + total.toFixed(2);
}

window.removeItem = function(index){
  cart.splice(index,1);
  localStorage.setItem('cart', JSON.stringify(cart));
  updateCart();
}

checkoutBtn.addEventListener('click', ()=>{
  if(cart.length === 0){
    alert("Your cart is empty!");
  } else {
    window.location.href = "checkout.html";
  }
});

updateCart();
</script>

</body>
</html>
